$(document).ready(function() {
    fetch('https://api.open-meteo.com/v1/forecast?latitude=52.52&longitude=13.41&current=temperature_2m,relative_humidity_2m,is_day,precipitation,rain,weather_code,wind_speed_10m&forecast_days=1')
    .then(response => {
        if(!response.ok){
            throw new error('Bad API response');
        }
        return response.json();
    })
    .then(Data =>{
        console.log(Data);
        let lat = Data.latitude.toString();
        let long = Data.longitude.toString();
        let temperature_2m = Data.current.temperature_2m;
        let currentTemp = temperature_2m;
        let rain = Data.current.rain;
        let currentRain = rain;
        let humidity = Data.current.relative_humidity_2m;
        let currentHumidity = humidity;
        let wind = Data.current.wind_speed_10m;
        let currentWind = wind;


        $('#weatherTop').append(`<p1 id="latLong">${lat} : ${long}</p1>`);
        $('#weatherTop').append(`<h1 id="temp">${currentTemp}Â°C</h1>`);
        $('#weatherTop').append(`<p1 id="humidity">Humidity: ${currentHumidity}%</p1>`);
        $('#weatherBottom').append(`<p1><svg class="svg-icon" id = "windIcon" viewBox="0 0 20 20">
			<path fill="none" d="M2.568,7.179H8.96c1.411,0,2.557-1.145,2.557-2.557c0-1.412-1.146-2.557-2.557-2.557H8.534c-0.235,0-0.426,0.19-0.426,0.426c0,0.236,0.191,0.426,0.426,0.426H8.96c0.941,0,1.704,0.763,1.704,1.705S9.901,6.327,8.96,6.327H2.568c-0.236,0-0.426,0.19-0.426,0.426C2.142,6.988,2.333,7.179,2.568,7.179 M15.778,7.179c0-0.941-0.763-1.704-1.704-1.704h-0.427c-0.235,0-0.426,0.19-0.426,0.426c0,0.235,0.19,0.426,0.426,0.426h0.427c0.47,0,0.852,0.382,0.852,0.852c0,0.471-0.382,0.853-0.852,0.853H0.864c-0.236,0-0.426,0.19-0.426,0.426c0,0.235,0.19,0.426,0.426,0.426h13.21C15.016,8.884,15.778,8.12,15.778,7.179 M16.631,9.736H2.568c-0.236,0-0.426,0.19-0.426,0.426c0,0.236,0.19,0.426,0.426,0.426h14.062c0.94,0,1.704,0.764,1.704,1.705s-0.764,1.704-1.704,1.704h-0.427c-0.235,0-0.426,0.19-0.426,0.427c0,0.235,0.19,0.426,0.426,0.426h0.427c1.411,0,2.557-1.145,2.557-2.557S18.042,9.736,16.631,9.736 M10.665,11.44H4.273c-0.236,0-0.426,0.19-0.426,0.426c0,0.236,0.19,0.427,0.426,0.427h6.392c1.412,0,2.557,1.145,2.557,2.557s-1.146,2.557-2.557,2.557h-0.426c-0.236,0-0.426,0.19-0.426,0.426s0.19,0.427,0.426,0.427h0.426c1.883,0,3.41-1.526,3.41-3.409S12.548,11.44,10.665,11.44"></path>
			</svg></p1>`);
        $('#weatherBottom').append(`<p1 id="wind"> Wind-Speed: ${currentWind} km/h</p1> `);

        $('#weatherBottom').append(`<p1 id="rain">Rain: ${currentRain}</p1>`);
        $("#weatherBottom").append(`<p1><svg class="svg-icon" id = "rain-icon" viewBox="0 0 20 20">
		    <path fill="none" d="M9.153,14.656c0-0.233-0.189-0.423-0.423-0.423c-0.117,0-0.223,0.047-0.299,0.124l-2.539,2.539c-0.077,0.078-0.125,0.183-0.125,0.3c0,0.234,0.19,0.423,0.423,0.423c0.117,0,0.223-0.047,0.299-0.123l2.54-2.54C9.106,14.88,9.153,14.773,9.153,14.656 M6.614,14.656c0-0.233-0.19-0.423-0.423-0.423c-0.117,0-0.223,0.047-0.3,0.124l-2.539,2.539c-0.077,0.078-0.125,0.183-0.125,0.3c0,0.234,0.19,0.423,0.423,0.423c0.117,0,0.223-0.047,0.299-0.123l2.54-2.54C6.566,14.88,6.614,14.773,6.614,14.656 M11.693,14.656c0-0.233-0.19-0.423-0.424-0.423c-0.116,0-0.223,0.047-0.299,0.124l-2.539,2.539c-0.077,0.078-0.125,0.183-0.125,0.3c0,0.234,0.19,0.423,0.423,0.423c0.117,0,0.223-0.047,0.299-0.123l2.54-2.54C11.646,14.88,11.693,14.773,11.693,14.656 M13.81,14.233c-0.116,0-0.223,0.047-0.3,0.124l-2.539,2.539c-0.078,0.078-0.125,0.183-0.125,0.3c0,0.234,0.189,0.423,0.423,0.423c0.117,0,0.223-0.047,0.3-0.123l2.539-2.54c0.077-0.076,0.124-0.183,0.124-0.3C14.232,14.423,14.043,14.233,13.81,14.233 M16.767,6.724c0.002-0.037,0.006-0.073,0.006-0.11c0-1.402-1.138-2.54-2.54-2.54c-0.64,0-1.223,0.238-1.67,0.629c-0.903-1.396-2.468-2.322-4.256-2.322c-2.549,0-4.654,1.88-5.018,4.328C1.798,7.063,0.688,8.401,0.688,10c0,1.87,1.516,3.387,3.386,3.387h11.852c1.87,0,3.387-1.517,3.387-3.387C19.312,8.421,18.229,7.099,16.767,6.724 M15.926,12.54H4.074c-1.4,0-2.54-1.14-2.54-2.54c0-1.18,0.802-2.194,1.951-2.468c0.336-0.079,0.59-0.356,0.642-0.698c0.306-2.056,2.103-3.606,4.18-3.606c1.436,0,2.337,0.3,3.122,1.513c0.134,0.206,0.773,0.768,1.017,0.801c0.039,0.006,0.117,0.008,0.117,0.008c0.204,0,0.402-0.073,0.558-0.209c0.31-0.271,0.705-0.42,1.112-0.42c0.935,0,1.693,0.759,1.692,1.702l-0.004,0.062c-0.018,0.401,0.247,0.759,0.637,0.858c1.123,0.288,1.908,1.298,1.908,2.457C18.466,11.4,17.326,12.54,15.926,12.54"></path>
            </svg></p1>`);
       


        //let humid = Data

    })
    .catch(error => {
        console.error('Error: ', error);
    });
    

});